<%- include('../partials/header') %>

<section class="hero">
  <video autoplay muted loop playsinline class="hero-video">
    <source src="/images/carving.mp4" type="video/mp4" />
    Your browser does not support the video tag.
  </video>

  <h1 style="font-size: 2.5rem; margin-bottom: 1rem">
    Welcome to Nyavalley Curio
  </h1>
  <p style="font-size: 1.2rem; max-width: 700px; margin: 0 auto 2rem">
    Discover authentic African crafts, jewelry, and artifacts. Handcrafted with
    tradition and love.
  </p>
  <a
    href="/products"
    class="btn"
    style="
      display: inline-block;
      padding: 0.75rem 1.5rem;
      background-color: #111;
      color: #fff;
      text-decoration: none;
      border-radius: 4px;
      font-weight: 500;
      transition: background-color 0.3s;
    "
    >Explore Our Collection</a
  >
</section>

<section class="mb-4">
  <h2 class="section-title">Featured Categories</h2>
  <div
    class="categories-grid"
    style="
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 2rem;
      margin-bottom: 3rem;
    "
  >
    <div
      class="category-card carvings"
      style="
        background-color: white;
        border-radius: 8px;
        overflow: hidden;
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        text-align: center;
        padding: 1.5rem;
      "
    >
      <div class="img">
        <img src="/images/carving.jpg" alt="" />
      </div>
      <h3>Carvings</h3>
      <p>Soap stone and wooden carvings</p>
      <a href="/products?category=1" class="btn btn-outline">Browse Carvings</a>
    </div>

    <div
      class="category-card"
      style="
        background-color: white;
        border-radius: 8px;
        overflow: hidden;
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        text-align: center;
        padding: 1.5rem;
      "
    >
      <div class="img">
        <img src="/images/jewelry.jpg" alt="" />
      </div>
      <h3>Jewelry</h3>
      <p>Necklaces, bangles, and earrings</p>
      <a href="/products?category=2" class="btn btn-outline">Browse Jewelry</a>
    </div>

    <div
      class="category-card"
      style="
        background-color: white;
        border-radius: 8px;
        overflow: hidden;
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        text-align: center;
        padding: 1.5rem;
      "
    >
      <div class="img">
        <img src="/images/bags.jpg" alt="" />
      </div>
      <h3>Bags</h3>
      <p>Carry your world effortlessly</p>
      <a href="/products?category=3" class="btn btn-outline">Browse Bags</a>
    </div>

    <div
      class="category-card"
      style="
        background-color: white;
        border-radius: 8px;
        overflow: hidden;
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        text-align: center;
        padding: 1.5rem;
      "
    >
      <div class="img">
        <img src="/images/painting.jpg" alt="" />
      </div>
      <h3>Paintings</h3>
      <p>African art and wildlife paintings</p>
      <a href="/products?category=5" class="btn btn-outline"
        >Browse Paintings</a
      >
    </div>
  </div>
</section>

<section class="mb-4">
  <h2 class="section-title">Featured Products</h2>
  <div class="products-grid">
    <% if (products.length > 0) { %> <% products.forEach(product => { %>
    <div class="product-card">
      <img
        src="<%= product.image_url || '/images/placeholder.jpg' %>"
        alt="<%= product.name %>"
        class="product-image"
      />
      <div class="product-info">
        <h3 class="product-name"><%= product.name %></h3>
        <p class="product-price">$<%= product.price.toFixed(2) %></p>
        <p class="product-description"><%= product.description %></p>
        <div class="product-actions">
          <a href="/product/<%= product.product_id %>" class="btn btn-outline"
            >View Details</a
          >
          <% if (user) { %>
          <button
            class="btn add-to-cart"
            data-product-id="<%= product.product_id %>"
          >
            <svg
              xmlns="http://www.w3.org/2000/svg"
              height="24px"
              viewBox="0 -960 960 960"
              width="24px"
              fill="#FFFFFF"
            >
              <path
                d="M280-80q-33 0-56.5-23.5T200-160q0-33 23.5-56.5T280-240q33 0 56.5 23.5T360-160q0 33-23.5 56.5T280-80Zm400 0q-33 0-56.5-23.5T600-160q0-33 23.5-56.5T680-240q33 0 56.5 23.5T760-160q0 33-23.5 56.5T680-80ZM246-720l96 200h280l110-200H246Zm-38-80h590q23 0 35 20.5t1 41.5L692-482q-11 20-29.5 31T622-440H324l-44 80h480v80H280q-45 0-68-39.5t-2-78.5l54-98-144-304H40v-80h130l38 80Zm134 280h280-280Z"
              />
            </svg>
          </button>
          <% } else { %>
          <a href="/login" class="btn"
            ><svg
              xmlns="http://www.w3.org/2000/svg"
              height="24px"
              viewBox="0 -960 960 960"
              width="24px"
              fill="#FFFFFF"
            >
              <path
                d="M280-80q-33 0-56.5-23.5T200-160q0-33 23.5-56.5T280-240q33 0 56.5 23.5T360-160q0 33-23.5 56.5T280-80Zm400 0q-33 0-56.5-23.5T600-160q0-33 23.5-56.5T680-240q33 0 56.5 23.5T760-160q0 33-23.5 56.5T680-80ZM246-720l96 200h280l110-200H246Zm-38-80h590q23 0 35 20.5t1 41.5L692-482q-11 20-29.5 31T622-440H324l-44 80h480v80H280q-45 0-68-39.5t-2-78.5l54-98-144-304H40v-80h130l38 80Zm134 280h280-280Z"
              /></svg
          ></a>
          <% } %>
        </div>
      </div>
    </div>
    <% }); %> <% } else { %>
    <div class="text-center" style="grid-column: 1 / -1">
      <p>No products found.</p>
    </div>
    <% } %>
  </div>
</section>

<%- include('../partials/footer') %>
